CAP Theorem (Consistency, Availability, Partition Tolerance)
ğŸ“Œ Definition
CAP theorem states that in a distributed system, you can achieve only two out of three guarantees at any given time:
1ï¸âƒ£ Consistency (C) â€“ Every node has the same data at the same time.
2ï¸âƒ£ Availability (A) â€“ Every request receives a response, even if some nodes are down.
3ï¸âƒ£ Partition Tolerance (P) â€“ The system continues to function even if network partitions occur (nodes canâ€™t communicate).

ğŸ‘‰ It is impossible to achieve all three (C, A, P) simultaneously in a distributed system.

ğŸ”¹ Understanding CAP Theorem with Real-World Analogy
Imagine an online banking system:

Consistency (C): Every user sees the same account balance across devices.
Availability (A): Users can access their accounts 24/7.
Partition Tolerance (P): The system keeps working even if some data centers lose connection.
If a network partition (P) occurs, we have two choices:

CP (Consistency + Partition Tolerance) â†’ Ensure data consistency but some requests may fail.
AP (Availability + Partition Tolerance) â†’ Ensure responses but data may be inconsistent.
ğŸ“Œ CAP Combinations in Distributed Systems
CAP Model	Guarantees	Sacrifices	Example Systems
CP (Consistency + Partition Tolerance)	Strong consistency, survives network failures	Some requests may be rejected (not always available)	MongoDB (with strong consistency), HBase, Zookeeper
AP (Availability + Partition Tolerance)	Always responds, survives network failures	Data may be inconsistent temporarily	DynamoDB, Cassandra, CouchDB
CA (Consistency + Availability) âŒ (Not Possible)	Both consistency & availability	Canâ€™t handle network partitions	Theoretical Only â€“ Works in a single-node DB
ğŸ’¡ Note: CA is not practical for distributed systems because network partitions always happen in real-world scenarios.

ğŸ”¹ CAP Theorem in Action (Trade-offs in Databases)
ğŸ“ SQL Databases (MySQL, PostgreSQL, etc.) â†’ CP

Prioritizes strong consistency over availability.
In case of a failure, some requests might be rejected.
ğŸ“ NoSQL Databases (Cassandra, DynamoDB, etc.) â†’ AP

Prioritizes availability over strict consistency.
Uses eventual consistency (data syncs over time).
ğŸ“ Zookeeper â†’ CP

Ensures a strongly consistent system but may deny requests when partitions occur.
ğŸš€ Example Scenario: CAP Theorem in a Shopping App
Imagine an e-commerce site handling inventory updates across multiple servers:

1ï¸âƒ£ CP (Consistency + Partition Tolerance)

If a network failure happens, some customers may not be able to purchase items until data is consistent.
Example: Relational databases used in banking.
2ï¸âƒ£ AP (Availability + Partition Tolerance)

Customers can continue buying items, but inventory counts might be slightly inconsistent.
Example: Amazon DynamoDB allowing high availability but using eventual consistency.
ğŸ› ï¸ Practical Considerations for Architects
If accuracy is critical (e.g., banking transactions) â†’ Choose CP.
If availability is more important (e.g., social media posts, shopping carts) â†’ Choose AP.
No system is strictly CP or AP; many databases provide tunable consistency levels (e.g., DynamoDB, Cassandra).
Would you like a diagram explaining CAP Theorem visually? ğŸš€
